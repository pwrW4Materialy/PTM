\documentclass[12pt,a4paper]{article}
\usepackage{geometry}
\usepackage{slashbox}
\geometry{
	a4paper,
	total={170mm,257mm},
	left=20mm,
	right=20mm,
	top=20mm,
	bottom=30mm
}
\usepackage{graphicx}
\usepackage{pdfpages}
\usepackage{placeins}
\usepackage{float}

\usepackage{polski}
\usepackage[utf8]{inputenc}

\usepackage{listings}
\usepackage{lmodern}
\lstdefinelanguage
[x64]{Assembler}     % add a "x64" dialect of Assembler
[x86masm]{Assembler} % based on the "x86masm" dialect
% with these extra keywords:
{morekeywords={CDQE,CQO,CMPSQ,CMPXCHG16B,JRCXZ,LODSQ,MOVSXD, %
		POPFQ,PUSHFQ,SCASQ,STOSQ,IRETQ,RDTSCP,SWAPGS, %
		rax,rdx,rcx,rbx,rsi,rdi,rsp,rbp, %
		r8,r8d,r8w,r8b,r9,r9d,r9w,r9b, %
		r10,r10d,r10w,r10b,r11,r11d,r11w,r11b, %
		r12,r12d,r12w,r12b,r13,r13d,r13w,r13b, %
		r14,r14d,r14w,r14b,r15,r15d,r15w,r15b}} % etc.
\lstset
{ %Formatting for code in appendix
	basicstyle=\footnotesize,
	language=[x64]Assembler,
	numbers=left,
	stepnumber=1,
	tabsize=4,
	basicstyle=\ttfamily,
}

\begin{document}
	
	\begin{titlepage}
		\newgeometry{top=2.5cm, bottom=2.5cm}
		
		\centering
		{\huge\bfseries Podstawy techniki mikroprocesorowej lab.\par}
		
		\vspace{0.5cm}
		Prowadzący: Mgr inż. Antoni Sterna (E00-74ap, środa 13:15) \\
	
		\vspace{1.1cm}
		{\Large Sprawozdanie 4 - 2018.04.18\par}
		\vfill
		
		{\large\bfseries Jakub Dorda 235013\par}
		{\large\bfseries Marcin Kotas 235098\par}
		
		\vspace{1cm}
		\today \\ \LaTeX
		
		\restoregeometry
	\end{titlepage}

	\newgeometry{top=1cm, bottom=1.2cm, left=20mm, right=20mm}

	\section{Wprowadzenie/cel ćwiczeń}
		Celem ćwiczeń była integracja programów wykonanych na laboratoriach 2 i 3. Używając przerwań wywoływanych
		przez zegar mikrokontrolera odliczamy czas wyświetlając go jednocześnie na LCD. Dodatkowo wykonano także
		sprawdzenie czy zegar przekroczył określony czas.
		
	\section{Kod programu}
		\begin{minipage}{.5\textwidth}
			\lstinputlisting[firstnumber=1, firstline=1, lastline=44]{../../lab4/lab4.asm}
		\end{minipage}%	
		\begin{minipage}{.5\textwidth}
			
		\end{minipage}
		
		\begin{minipage}{.5\textwidth}
			\lstinputlisting[firstnumber=45, firstline=45, lastline=98]{../../lab4/lab4.asm}
		\end{minipage}%	
		\begin{minipage}{.5\textwidth}
			
		\end{minipage}
		
		\begin{minipage}{.5\textwidth}
			\lstinputlisting[firstnumber=97, firstline=98, lastline=150]{../../lab4/lab4.asm}
		\end{minipage}%	
		\begin{minipage}{.5\textwidth}
			
		\end{minipage}
		
		\begin{minipage}{.5\textwidth}
			\lstinputlisting[firstnumber=146, firstline=151, lastline=200]{../../lab4/lab4.asm}
		\end{minipage}%	
		\begin{minipage}{.5\textwidth}
			
		\end{minipage}

	\section{Wnioski/podsumowanie}
	
			Wszystkie programy uruchomiły się poprawnie.
	
\end{document}